(function(){window.AA={}}).call(this);
(function(){var d=window.AA,e=AA,c=function(b,a){this.options=b;this.container=a;this.options=$.extend({},{},b);this._init();this._bind()};c.prototype._init=function(){if(this.container)this.$container=$(this.container);else throw Error("Container element not found");if(this.$container.find(".toggle_all").length)this.toggle_all_checkbox=this.$container.find(".toggle_all");else throw Error('"toggle all" checkbox not found');return this.checkboxes=this.$container.find(":checkbox").not(this.toggle_all_checkbox)};c.prototype._bind=
function(){var b=this;this.checkboxes.change(function(a){return b._didChangeCheckbox(a.target)});return this.toggle_all_checkbox.change(function(){return b._didChangeToggleAllCheckbox()})};c.prototype._didChangeCheckbox=function(){switch(this.checkboxes.filter(":checked").length){case this.checkboxes.length-1:return this.toggle_all_checkbox.prop({checked:null});case this.checkboxes.length:return this.toggle_all_checkbox.prop({checked:!0})}};c.prototype._didChangeToggleAllCheckbox=function(){var b,
a=this;b=this.toggle_all_checkbox.prop("checked")?!0:null;return this.checkboxes.each(function(c,d){$(d).prop({checked:b});return a._didChangeCheckbox(d)})};d.CheckboxToggler=e.CheckboxToggler=c;jQuery(function(b){return b.widget.bridge("checkboxToggler",AA.CheckboxToggler)})}).call(this);
(function(){var d=window.AA,e=AA,c=function(a,b){this.options=a;this.element=b;this.$element=$(this.element);this.options=$.extend({},{fadeInDuration:20,fadeOutDuration:100,onClickActionItemCallback:null},a);this.$menuButton=this.$element.find(".dropdown_menu_button");this.$menuList=this.$element.find(".dropdown_menu_list_wrapper");this.isOpen=!1;this._buildMenuList();this._bind()};c.prototype.open=function(){this.isOpen=!0;this.$menuList.fadeIn(this.options.fadeInDuration);this._positionMenuList();
this._positionNipple();return this};c.prototype.close=function(){this.isOpen=!1;this.$menuList.fadeOut(this.options.fadeOutDuration);return this};c.prototype.destroy=function(){this.$element.unbind();this.$element=null;return this};c.prototype.isDisabled=function(){return this.$menuButton.hasClass("disabled")};c.prototype.disable=function(){return this.$menuButton.addClass("disabled")};c.prototype.enable=function(){return this.$menuButton.removeClass("disabled")};c.prototype.option=function(a,b){return $.isPlainObject(a)?
this.options=$.extend(!0,this.options,a):null!=a?this.options[a]:this.options[a]=b};c.prototype._buildMenuList=function(){this.$menuList.prepend('<div class="dropdown_menu_nipple"></div>');return this.$menuList.hide()};c.prototype._bind=function(){var a=this;$("body").bind("click",function(){if(!0===a.isOpen)return a.close()});return this.$menuButton.bind("click",function(){a.isDisabled()||(!0===a.isOpen?a.close():a.open());return!1})};c.prototype._positionMenuList=function(){var a,b;a=this.$menuButton.position().left+
this.$menuButton.outerWidth()/2;b=this.$menuList.outerWidth()/2;return this.$menuList.css("left",a-b)};c.prototype._positionNipple=function(){var a,b,c;b=this.$menuList.outerWidth()/2;a=this.$menuButton.position().top+this.$menuButton.outerHeight()+10;this.$menuList.css("top",a);a=this.$menuList.find(".dropdown_menu_nipple");c=a.outerWidth()/2;return a.css("left",b-c)};d.DropdownMenu=e.DropdownMenu=c;var b=jQuery;b.widget.bridge("aaDropdownMenu",AA.DropdownMenu);b(function(){return b(".dropdown_menu").aaDropdownMenu()})}).call(this);
(function(){var d=window.AA,e=AA,c=function(b,a){this.options=b;this.element=a;this.$element=$(this.element);this.options=$.extend({},{fadeInDuration:20,fadeOutDuration:100,autoOpen:!0,pageWrapperElement:"#wrapper",onClickActionItemCallback:null},b);this.$popover=null;this.isOpen=!1;this.$popover=0<$(this.$element.attr("href")).length?$(this.$element.attr("href")):this.$element.next(".popover");this._buildPopover();this._bind()};c.prototype.open=function(){this.isOpen=!0;this.$popover.fadeIn(this.options.fadeInDuration);
this._positionPopover();this._positionNipple();return this};c.prototype.close=function(){this.isOpen=!1;this.$popover.fadeOut(this.options.fadeOutDuration);return this};c.prototype.destroy=function(){this.$element.removeData("popover");this.$element.unbind();this.$element=null;return this};c.prototype.option=function(){};c.prototype._buildPopover=function(){this.$popover.prepend('<div class="popover_nipple"></div>');this.$popover.hide();return this.$popover.addClass("popover")};c.prototype._bind=
function(){var b=this;$(this.options.pageWrapperElement).bind("click",function(){if(!0===b.isOpen)return b.close()});if(!0===this.options.autoOpen)return this.$element.bind("click",function(){!0===b.isOpen?b.close():b.open();return!1})};c.prototype._positionPopover=function(){var b,a;b=this.$element.offset().left+this.$element.outerWidth()/2;a=this.$popover.outerWidth()/2;return this.$popover.css("left",b-a)};c.prototype._positionNipple=function(){var b,a,c;a=this.$popover.outerWidth()/2;b=this.$element.offset().top+
this.$element.outerHeight()+10;this.$popover.css("top",b);b=this.$popover.find(".popover_nipple");c=b.outerWidth()/2;return b.css("left",a-c)};d.Popover=e.Popover=c;jQuery.widget.bridge("popover",AA.Popover)}).call(this);
(function(){var d,e={}.hasOwnProperty,c=window.AA,b=AA,a=function(){return d=a.__super__.constructor.apply(this,arguments)},g=a,f=AA.CheckboxToggler,j=function(){this.constructor=g},h;for(h in f)e.call(f,h)&&(g[h]=f[h]);j.prototype=f.prototype;g.prototype=new j;g.__super__=f.prototype;a.prototype._init=function(){return a.__super__._init.apply(this,arguments)};a.prototype._bind=function(){var b=this;a.__super__._bind.apply(this,arguments);return this.$container.find("tbody td").click(function(a){if("checkbox"!==
a.target.type)return b._didClickCell(a.target)})};a.prototype._didChangeCheckbox=function(b){var c;a.__super__._didChangeCheckbox.apply(this,arguments);c=$(b).parents("tr");return b.checked?c.addClass("selected"):c.removeClass("selected")};a.prototype._didClickCell=function(a){return $(a).parent("tr").find(":checkbox").click()};c.TableCheckboxToggler=b.TableCheckboxToggler=a;jQuery(function(a){return a.widget.bridge("tableCheckboxToggler",AA.TableCheckboxToggler)})}).call(this);
(function(){$(function(){$(document).on("focus",".datepicker:not(.hasDatepicker)",function(){return $(this).datepicker({dateFormat:"yy-mm-dd"})});$(".clear_filters_btn").click(function(){return window.location.search=""});$(".dropdown_button").popover();return $("#q_search").submit(function(){return $(this).find(":input").filter(function(){return""===this.value}).prop("disabled",!0)})})}).call(this);
(function(){jQuery(function(d){d(document).delegate("#batch_actions_selector li a","click.rails",function(){d("#batch_action").val(d(this).attr("data-action"));return d("#collection_selection").submit()});if(d("#batch_actions_selector").length&&d(":checkbox.toggle_all").length)return d(".paginated_collection table.index_table").length?d(".paginated_collection table.index_table").tableCheckboxToggler():d(".paginated_collection").checkboxToggler(),d(".paginated_collection").find(":checkbox").bind("change",
function(){return 0<d(".paginated_collection").find(":checkbox").filter(":checked").length?d("#batch_actions_selector").aaDropdownMenu("enable"):d("#batch_actions_selector").aaDropdownMenu("disable")})})}).call(this);
